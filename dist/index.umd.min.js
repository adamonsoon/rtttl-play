!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.rtttlPlay=n():t.rtttlPlay=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){"use strict";function r(t){var n=t.split(":");if(3!==n.length)throw new Error("Invalid RTTTL file.");var e=o(n[0]),r=a(n[1]);return{name:e,defaults:r,melody:u(n[2],r)}}function o(t){return t.length>10&&console.warn("Tune name should not exceed 10 characters."),t?t:"Unknown"}function a(t){var n=t.split(","),e=n.map(function(t){if(""===t)return{};var n=t.split("=");if(2!==n.length)throw new Error("Invalid setting "+t);var e=n[0],r=n[1],o=["1","2","4","8","16","32"],a=["4","5","6","7"],i=["25","28","31","35","40","45","50","56","63","70","80","90","100","112","125","140","160","180","200","225","250","285","320","355","400","450","500","565","635","715","800","900"];switch(e){case"d":if(o.indexOf(r)!==-1)return{duration:r};throw new Error("Invalid duration "+r);case"o":return a.indexOf(r)===-1&&console.warn("Invalid octave "+r),{octave:r};case"b":return i.indexOf(r)===-1&&console.warn("Invalid BPM "+r),{bpm:r}}}),r=i({},e),o={duration:"4",octave:"6",bpm:"63"};return Object.assign(o,r)}function i(t,n){return 0===n.length?t:i(Object.assign(t,n[0]),n.slice(1))}function u(t,n){var e=t.split(","),r=6e4/parseInt(n.bpm);return e.map(function(t){var e=t.match(/(1|2|4|8|16|32|64)?((?:[a-g]|h|p)#?){1}(\.?)(4|5|6|7)?/),o=e[1]||parseInt(n.duration),a="h"===e[2]?"b":e[2],i="."===e[3],u=e[4]||parseInt(n.octave);return{note:a,duration:s(r,parseFloat(o),i),frequency:c(a,u)}})}function c(t,n){if("p"===t)return 0;var e=Math.pow(2,1/12),r=f(t,n),o=261.63*Math.pow(e,r);return Math.round(10*o)/10}function f(t,n){var e=["c","c#","d","d#","e","f","f#","g","g#","a","a#","b"],r=12*(n-4);return e.indexOf(t)+r}function s(t,n,e){var r=4*t/n;return r+(e?r/2:0)}t.exports={parse:r,getName:o,getDefaults:a,getData:u}},function(t,n,e){"use strict";function r(t){try{var n=i.parse(t),e=new(AudioContext||webkitAudioContext);a(n.melody,e)}catch(t){alert(t)}}function o(){u=!0}function a(t,n){if(u)return void(u=!1);var e=n.createOscillator();if(e.type="triangle",e.start(0),0!==t.length){var r=t[0];e.frequency.value=r.frequency,e.connect(n.destination),setTimeout(function(){e.disconnect(n.destination),a(t.slice(1),n,e)},r.duration)}}var i=e(0);t.exports={play:r,stop:o};var u=!1}])});
//# sourceMappingURL=index.umd.min.js.map
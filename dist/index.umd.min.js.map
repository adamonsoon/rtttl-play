{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.umd.min.js","webpack:///webpack/bootstrap dae481cea99b485fdd7b","webpack:///./~/rtttl-parse/dist/index.js","webpack:///./src/index.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","parse","rtttl","SECTIONS","split","length","Error","NAME","getName","DEFAULTS","getDefaults","defaults","melody","getData","console","warn","VALUES","VALUES_ARR","map","KEY_VAL","KEY","VAL","ALLOWED_DURATION","ALLOWED_OCTAVE","ALLOWED_BPM","indexOf","duration","octave","bpm","VALUES_OBJ","_toObject","DEFAULT_VALUES","assign","obj","arr","slice","NOTES","BEAT_EVERY","parseInt","note","NOTE_PARTS","match","NOTE_DURATION","NOTE","NOTE_OCTAVE","NOTE_DOTTED","_calculateDuration","parseFloat","frequency","_calculateFrequency","TWELFTH_ROOT","Math","pow","N","_calculateSemitonesFromC4","FREQUENCY","round","NOTE_ORDER","OCTAVE_JUMP","beatEvery","noteDuration","isDotted","DURATION","play","parsedRtttl","rtttlParse","audioCtx","AudioContext","webkitAudioContext","_playMelody","err","alert","stop","shouldStop","osc","createOscillator","type","start","connect","destination","setTimeout","disconnect"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,UAAAH,GACA,gBAAAC,SACAA,QAAA,UAAAD,IAEAD,EAAA,UAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAE,EAAAF,EACAG,GAAA,EACAV,WAUA,OANAK,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,GAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KA+DA,OAnCAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAG,EAAA,SAAAK,GAA2C,MAAAA,IAG3CR,EAAAS,EAAA,SAAAf,EAAAgB,EAAAC,GACAX,EAAAY,EAAAlB,EAAAgB,IACAG,OAAAC,eAAApB,EAAAgB,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAX,EAAAkB,EAAA,SAAAvB,GACA,GAAAgB,GAAAhB,KAAAwB,WACA,WAA2B,MAAAxB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAK,GAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAlB,KAAAe,EAAAC,IAGtDrB,EAAAwB,EAAA,GAGAxB,IAAAyB,EAAA,KDgBM,SAAU9B,EAAQD,EAASM,GAEjC,YEnEA,SAAA0B,GAAAC,GAEA,GACAC,GAAAD,EAAAE,MAAA,IAEA,IAHA,IAGAD,EAAAE,OACA,SAAAC,OAAA,sBAGA,IAAAC,GAAAC,EAAAL,EAAA,IACAM,EAAAC,EAAAP,EAAA,GAGA,QACAlB,KAAAsB,EACAI,SAAAF,EACAG,OALAC,EAAAV,EAAA,GAAAM,IAeA,QAAAD,GAAAvB,GAQA,MAJAA,GAAAoB,OAFA,IAGAS,QAAAC,KAAA,8CAGA9B,EAIAA,EAHA,UAYA,QAAAyB,GAAAC,GAEA,GAAAK,GAAAL,EAAAP,MAAA,KAEAa,EAAAD,EAAAE,IAAA,SAAAnC,GAEA,QAAAA,EACA,QAGA,IAAAoC,GAAApC,EAAAqB,MAAA,IAEA,QAAAe,EAAAd,OACA,SAAAC,OAAA,mBAAAvB,EAGA,IAAAqC,GAAAD,EAAA,GACAE,EAAAF,EAAA,GAEAG,GAAA,2BACAC,GAAA,iBACAC,GAAA,oLAEA,QAAAJ,GACA,QACA,GAAAE,EAAAG,QAAAJ,MAAA,EACA,OAAkBK,SAAAL,EAElB,UAAAf,OAAA,oBAAAe,EAEA,SAIA,MAHAE,GAAAE,QAAAJ,MAAA,GACAP,QAAAC,KAAA,kBAAAM,IAEgBM,OAAAN,EAChB,SAIA,MAHAG,GAAAC,QAAAJ,MAAA,GACAP,QAAAC,KAAA,eAAAM,IAEgBO,IAAAP,MAIhBQ,EAAAC,KAA+Bb,GAE/Bc,GACAL,SAAA,IACAC,OAAA,IACAC,IAAA,KAGA,OAAAxC,QAAA4C,OAAAD,EAAAF,GAWA,QAAAC,GAAAG,EAAAC,GAEA,WAAAA,EAAA7B,OACA4B,EAKAH,EAFA1C,OAAA4C,OAAAC,EAAAC,EAAA,IAEAA,EAAAC,MAAA,IAUA,QAAAtB,GAAAD,EAAAD,GAEA,GAAAyB,GAAAxB,EAAAR,MAAA,KACAiC,EAAA,IAAAC,SAAA3B,EAAAiB,IAEA,OAAAQ,GAAAlB,IAAA,SAAAqB,GAEA,GACAC,GAAAD,EAAAE,MADA,0DAGAC,EAAAF,EAAA,IAAAF,SAAA3B,EAAAe,UACAiB,EAAA,MAAAH,EAAA,OAAAA,EAAA,GACAI,EAAAJ,EAAA,IAAAF,SAAA3B,EAAAgB,QACAkB,EAAA,MAAAL,EAAA,EAEA,QACAD,KAAAI,EACAjB,SAAAoB,EAAAT,EAAAU,WAAAL,GAAAG,GACAG,UAAAC,EAAAN,EAAAC,MAaA,QAAAK,GAAAV,EAAAZ,GAEA,SAAAY,EACA,QAGA,IACAW,GAAAC,KAAAC,IAAA,QACAC,EAAAC,EAAAf,EAAAZ,GACA4B,EAHA,OAGAJ,KAAAC,IAAAF,EAAAG,EAEA,OAAAF,MAAAK,MAAA,GAAAD,GAAA,GAGA,QAAAD,GAAAf,EAAAZ,GAEA,GAAA8B,IAAA,sDAIAC,EAFA,IAEA/B,EAHA,EAKA,OAAA8B,GAAAhC,QAAAc,GAAAmB,EAYA,QAAAZ,GAAAa,EAAAC,EAAAC,GACA,GAAAC,GAAA,EAAAH,EAAAC,CAEA,OAAAE,IADAD,EAAAC,EAAA,KA/MA5F,EAAAD,SACAgC,QACAO,UACAE,cACAG,YFoSM,SAAU3C,EAAQD,EAASM,GAEjC,YGnSA,SAASwF,GAAK7D,GAEZ,IACE,GAAM8D,GAAcC,EAAWhE,MAAMC,GAC/BgE,EAAc,IAAKC,cAAgBC,mBACzCC,GAAYL,EAAYpD,OAAQsD,GAChC,MAAMI,GACNC,MAAMD,IAKV,QAASE,KACPC,GAAa,EAGf,QAASJ,GAAYzD,EAAQsD,GAE3B,GAAIO,EAEF,YADAA,GAAa,EAIf,IAAMC,GAAMR,EAASS,kBAIrB,IAHMD,EAAIE,KAAO,WACXF,EAAIG,MAAM,GAEM,IAAlBjE,EAAOP,OAAX,CAIA,GAAMkC,GAAO3B,EAAO,EAEpB8D,GAAI1B,UAAUjE,MAAQwD,EAAKS,UAC3B0B,EAAII,QAAQZ,EAASa,aAErBC,WAAW,WACTN,EAAIO,WAAWf,EAASa,aACxBV,EAAYzD,EAAOuB,MAAM,GAAI+B,EAAUQ,IACtCnC,EAAKb,WAhDV,GAAMuC,GAAa1F,EAAQ,EAE3BL,GAAOD,SACL8F,OACAS,OAGF,IAAIC,IAAa","file":"index.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rtttlPlay\"] = factory();\n\telse\n\t\troot[\"rtttlPlay\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rtttlPlay\"] = factory();\n\telse\n\t\troot[\"rtttlPlay\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  parse: parse,\n  getName: getName,\n  getDefaults: getDefaults,\n  getData: getData\n};\n\n/**\n * Parse RTTTL\n *\n * @param {string} rtttl - RTTTL String\n * @returns {object} - An object specifying frequency and duration for each note\n */\nfunction parse(rtttl) {\n\n  var REQUIRED_SECTIONS_NUM = 3;\n  var SECTIONS = rtttl.split(':');\n\n  if (SECTIONS.length !== REQUIRED_SECTIONS_NUM) {\n    throw new Error('Invalid RTTTL file.');\n  }\n\n  var NAME = getName(SECTIONS[0]);\n  var DEFAULTS = getDefaults(SECTIONS[1]);\n  var MELODY = getData(SECTIONS[2], DEFAULTS);\n\n  return {\n    name: NAME,\n    defaults: DEFAULTS,\n    melody: MELODY\n  };\n}\n\n/**\n * Get ring tone name\n *\n * @param {string} name\n * @returns {string}\n */\nfunction getName(name) {\n\n  var MAX_LENGTH = 10;\n\n  if (name.length > MAX_LENGTH) {\n    console.warn('Tune name should not exceed 10 characters.');\n  }\n\n  if (!name) {\n    return 'Unknown';\n  }\n\n  return name;\n}\n\n/**\n * Get duration, octave and BPM\n *\n * @param {string} defaults\n * @returns {object}\n */\nfunction getDefaults(defaults) {\n\n  var VALUES = defaults.split(',');\n\n  var VALUES_ARR = VALUES.map(function (value) {\n\n    if (value === '') {\n      return {};\n    }\n\n    var KEY_VAL = value.split('=');\n\n    if (KEY_VAL.length !== 2) {\n      throw new Error('Invalid setting ' + value);\n    }\n\n    var KEY = KEY_VAL[0];\n    var VAL = KEY_VAL[1];\n\n    var ALLOWED_DURATION = ['1', '2', '4', '8', '16', '32'];\n    var ALLOWED_OCTAVE = ['4', '5', '6', '7'];\n    var ALLOWED_BPM = ['25', '28', '31', '35', '40', '45', '50', '56', '63', '70', '80', '90', '100', '112', '125', '140', '160', '180', '200', '225', '250', '285', '320', '355', '400', '450', '500', '565', '635', '715', '800', '900'];\n\n    switch (KEY) {\n      case 'd':\n        if (ALLOWED_DURATION.indexOf(VAL) !== -1) {\n          return { duration: VAL };\n        } else {\n          throw new Error('Invalid duration ' + VAL);\n        }\n      case 'o':\n        if (ALLOWED_OCTAVE.indexOf(VAL) === -1) {\n          console.warn('Invalid octave ' + VAL);\n        }\n        return { octave: VAL };\n      case 'b':\n        if (ALLOWED_BPM.indexOf(VAL) === -1) {\n          console.warn('Invalid BPM ' + VAL);\n        }\n        return { bpm: VAL };\n    }\n  });\n\n  var VALUES_OBJ = _toObject({}, VALUES_ARR);\n\n  var DEFAULT_VALUES = {\n    duration: '4',\n    octave: '6',\n    bpm: '63'\n  };\n\n  return Object.assign(DEFAULT_VALUES, VALUES_OBJ);\n}\n\n/**\n * Convert an array of objects into an object\n *\n * @param {object} obj\n * @param {Array} arr\n * @returns {object}\n * @private\n */\nfunction _toObject(obj, arr) {\n\n  if (arr.length === 0) {\n    return obj;\n  }\n\n  var newObj = Object.assign(obj, arr[0]);\n\n  return _toObject(newObj, arr.slice(1));\n}\n\n/**\n * Get the parsed melody data\n *\n * @param {string} melody\n * @param {object} defaults\n * @returns {Array}\n */\nfunction getData(melody, defaults) {\n\n  var NOTES = melody.split(',');\n  var BEAT_EVERY = 60000 / parseInt(defaults.bpm);\n\n  return NOTES.map(function (note) {\n\n    var NOTE_REGEX = /(1|2|4|8|16|32|64)?((?:[a-g]|h|p)#?){1}(4|5|6|7)?(\\.?)/;\n    var NOTE_PARTS = note.match(NOTE_REGEX);\n\n    var NOTE_DURATION = NOTE_PARTS[1] || parseInt(defaults.duration);\n    var NOTE = NOTE_PARTS[2] === 'h' ? 'b' : NOTE_PARTS[2];\n    var NOTE_OCTAVE = NOTE_PARTS[3] || parseInt(defaults.octave);\n    var NOTE_DOTTED = NOTE_PARTS[4] === '.';\n\n    return {\n      note: NOTE,\n      duration: _calculateDuration(BEAT_EVERY, parseFloat(NOTE_DURATION), NOTE_DOTTED),\n      frequency: _calculateFrequency(NOTE, NOTE_OCTAVE)\n    };\n  });\n}\n\n/**\n * Calculate the frequency of a note\n *\n * @param {string} note\n * @param {number} octave\n * @returns {number}\n * @private\n */\nfunction _calculateFrequency(note, octave) {\n\n  if (note === 'p') {\n    return 0;\n  }\n\n  var C4 = 261.63;\n  var TWELFTH_ROOT = Math.pow(2, 1 / 12);\n  var N = _calculateSemitonesFromC4(note, octave);\n  var FREQUENCY = C4 * Math.pow(TWELFTH_ROOT, N);\n\n  return Math.round(FREQUENCY * 1e1) / 1e1;\n}\n\nfunction _calculateSemitonesFromC4(note, octave) {\n\n  var NOTE_ORDER = ['c', 'c#', 'd', 'd#', 'e', 'f', 'f#', 'g', 'g#', 'a', 'a#', 'b'];\n  var MIDDLE_OCTAVE = 4;\n  var SEMITONES_IN_OCTAVE = 12;\n\n  var OCTAVE_JUMP = (octave - MIDDLE_OCTAVE) * SEMITONES_IN_OCTAVE;\n\n  return NOTE_ORDER.indexOf(note) + OCTAVE_JUMP;\n}\n\n/**\n * Calculate the duration a note should be played\n *\n * @param {number} beatEvery\n * @param {number} noteDuration\n * @param {boolean} isDotted\n * @returns {number}\n * @private\n */\nfunction _calculateDuration(beatEvery, noteDuration, isDotted) {\n  var DURATION = beatEvery * 4 / noteDuration;\n  var PROLONGED = isDotted ? DURATION / 2 : 0;\n  return DURATION + PROLONGED;\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar rtttlParse = __webpack_require__(0);\n\nmodule.exports = {\n  play: play,\n  stop: stop\n};\n\nvar shouldStop = false;\n\nfunction play(rtttl) {\n\n  try {\n    var parsedRtttl = rtttlParse.parse(rtttl);\n    var audioCtx = new (AudioContext || webkitAudioContext)();\n    _playMelody(parsedRtttl.melody, audioCtx);\n  } catch (err) {\n    alert(err);\n  }\n}\n\nfunction stop() {\n  shouldStop = true;\n}\n\nfunction _playMelody(melody, audioCtx) {\n\n  if (shouldStop) {\n    shouldStop = false;\n    return;\n  }\n\n  var osc = audioCtx.createOscillator();\n  osc.type = 'triangle';\n  osc.start(0);\n\n  if (melody.length === 0) {\n    return;\n  }\n\n  var note = melody[0];\n\n  osc.frequency.value = note.frequency;\n  osc.connect(audioCtx.destination);\n\n  setTimeout(function () {\n    osc.disconnect(audioCtx.destination);\n    _playMelody(melody.slice(1), audioCtx, osc);\n  }, note.duration);\n}\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// index.umd.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dae481cea99b485fdd7b","\"use strict\";\n\nmodule.exports = {\n  parse: parse,\n  getName: getName,\n  getDefaults: getDefaults,\n  getData: getData\n};\n\n/**\n * Parse RTTTL\n *\n * @param {string} rtttl - RTTTL String\n * @returns {object} - An object specifying frequency and duration for each note\n */\nfunction parse(rtttl) {\n\n  var REQUIRED_SECTIONS_NUM = 3;\n  var SECTIONS = rtttl.split(':');\n\n  if (SECTIONS.length !== REQUIRED_SECTIONS_NUM) {\n    throw new Error('Invalid RTTTL file.');\n  }\n\n  var NAME = getName(SECTIONS[0]);\n  var DEFAULTS = getDefaults(SECTIONS[1]);\n  var MELODY = getData(SECTIONS[2], DEFAULTS);\n\n  return {\n    name: NAME,\n    defaults: DEFAULTS,\n    melody: MELODY\n  };\n}\n\n/**\n * Get ring tone name\n *\n * @param {string} name\n * @returns {string}\n */\nfunction getName(name) {\n\n  var MAX_LENGTH = 10;\n\n  if (name.length > MAX_LENGTH) {\n    console.warn('Tune name should not exceed 10 characters.');\n  }\n\n  if (!name) {\n    return 'Unknown';\n  }\n\n  return name;\n}\n\n/**\n * Get duration, octave and BPM\n *\n * @param {string} defaults\n * @returns {object}\n */\nfunction getDefaults(defaults) {\n\n  var VALUES = defaults.split(',');\n\n  var VALUES_ARR = VALUES.map(function (value) {\n\n    if (value === '') {\n      return {};\n    }\n\n    var KEY_VAL = value.split('=');\n\n    if (KEY_VAL.length !== 2) {\n      throw new Error('Invalid setting ' + value);\n    }\n\n    var KEY = KEY_VAL[0];\n    var VAL = KEY_VAL[1];\n\n    var ALLOWED_DURATION = ['1', '2', '4', '8', '16', '32'];\n    var ALLOWED_OCTAVE = ['4', '5', '6', '7'];\n    var ALLOWED_BPM = ['25', '28', '31', '35', '40', '45', '50', '56', '63', '70', '80', '90', '100', '112', '125', '140', '160', '180', '200', '225', '250', '285', '320', '355', '400', '450', '500', '565', '635', '715', '800', '900'];\n\n    switch (KEY) {\n      case 'd':\n        if (ALLOWED_DURATION.indexOf(VAL) !== -1) {\n          return { duration: VAL };\n        } else {\n          throw new Error('Invalid duration ' + VAL);\n        }\n      case 'o':\n        if (ALLOWED_OCTAVE.indexOf(VAL) === -1) {\n          console.warn('Invalid octave ' + VAL);\n        }\n        return { octave: VAL };\n      case 'b':\n        if (ALLOWED_BPM.indexOf(VAL) === -1) {\n          console.warn('Invalid BPM ' + VAL);\n        }\n        return { bpm: VAL };\n    }\n  });\n\n  var VALUES_OBJ = _toObject({}, VALUES_ARR);\n\n  var DEFAULT_VALUES = {\n    duration: '4',\n    octave: '6',\n    bpm: '63'\n  };\n\n  return Object.assign(DEFAULT_VALUES, VALUES_OBJ);\n}\n\n/**\n * Convert an array of objects into an object\n *\n * @param {object} obj\n * @param {Array} arr\n * @returns {object}\n * @private\n */\nfunction _toObject(obj, arr) {\n\n  if (arr.length === 0) {\n    return obj;\n  }\n\n  var newObj = Object.assign(obj, arr[0]);\n\n  return _toObject(newObj, arr.slice(1));\n}\n\n/**\n * Get the parsed melody data\n *\n * @param {string} melody\n * @param {object} defaults\n * @returns {Array}\n */\nfunction getData(melody, defaults) {\n\n  var NOTES = melody.split(',');\n  var BEAT_EVERY = 60000 / parseInt(defaults.bpm);\n\n  return NOTES.map(function (note) {\n\n    var NOTE_REGEX = /(1|2|4|8|16|32|64)?((?:[a-g]|h|p)#?){1}(4|5|6|7)?(\\.?)/;\n    var NOTE_PARTS = note.match(NOTE_REGEX);\n\n    var NOTE_DURATION = NOTE_PARTS[1] || parseInt(defaults.duration);\n    var NOTE = NOTE_PARTS[2] === 'h' ? 'b' : NOTE_PARTS[2];\n    var NOTE_OCTAVE = NOTE_PARTS[3] || parseInt(defaults.octave);\n    var NOTE_DOTTED = NOTE_PARTS[4] === '.';\n\n    return {\n      note: NOTE,\n      duration: _calculateDuration(BEAT_EVERY, parseFloat(NOTE_DURATION), NOTE_DOTTED),\n      frequency: _calculateFrequency(NOTE, NOTE_OCTAVE)\n    };\n  });\n}\n\n/**\n * Calculate the frequency of a note\n *\n * @param {string} note\n * @param {number} octave\n * @returns {number}\n * @private\n */\nfunction _calculateFrequency(note, octave) {\n\n  if (note === 'p') {\n    return 0;\n  }\n\n  var C4 = 261.63;\n  var TWELFTH_ROOT = Math.pow(2, 1 / 12);\n  var N = _calculateSemitonesFromC4(note, octave);\n  var FREQUENCY = C4 * Math.pow(TWELFTH_ROOT, N);\n\n  return Math.round(FREQUENCY * 1e1) / 1e1;\n}\n\nfunction _calculateSemitonesFromC4(note, octave) {\n\n  var NOTE_ORDER = ['c', 'c#', 'd', 'd#', 'e', 'f', 'f#', 'g', 'g#', 'a', 'a#', 'b'];\n  var MIDDLE_OCTAVE = 4;\n  var SEMITONES_IN_OCTAVE = 12;\n\n  var OCTAVE_JUMP = (octave - MIDDLE_OCTAVE) * SEMITONES_IN_OCTAVE;\n\n  return NOTE_ORDER.indexOf(note) + OCTAVE_JUMP;\n}\n\n/**\n * Calculate the duration a note should be played\n *\n * @param {number} beatEvery\n * @param {number} noteDuration\n * @param {boolean} isDotted\n * @returns {number}\n * @private\n */\nfunction _calculateDuration(beatEvery, noteDuration, isDotted) {\n  var DURATION = beatEvery * 4 / noteDuration;\n  var PROLONGED = isDotted ? DURATION / 2 : 0;\n  return DURATION + PROLONGED;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rtttl-parse/dist/index.js\n// module id = 0\n// module chunks = 0","const rtttlParse = require('rtttl-parse');\n\nmodule.exports = {\n  play,\n  stop\n};\n\nlet shouldStop = false;\n\nfunction play(rtttl) {\n\n  try {\n    const parsedRtttl = rtttlParse.parse(rtttl);\n    const audioCtx    = new (AudioContext || webkitAudioContext)();\n    _playMelody(parsedRtttl.melody, audioCtx);\n  } catch(err) {\n    alert(err);\n  }\n\n}\n\nfunction stop() {\n  shouldStop = true;\n}\n\nfunction _playMelody(melody, audioCtx) {\n\n  if (shouldStop) {\n    shouldStop = false;\n    return;\n  }\n\n  const osc = audioCtx.createOscillator();\n        osc.type = 'triangle';\n        osc.start(0);\n\n  if (melody.length === 0) {\n    return;\n  }\n\n  const note = melody[0];\n\n  osc.frequency.value = note.frequency;\n  osc.connect(audioCtx.destination);\n\n  setTimeout(() => {\n    osc.disconnect(audioCtx.destination);\n    _playMelody(melody.slice(1), audioCtx, osc);\n  }, note.duration);\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}